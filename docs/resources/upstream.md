---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kong_upstream Resource - kong"
subcategory: ""
description: |-
  
---

# kong_upstream (Resource)



## Example Usage

```terraform
terraform {
  required_providers {
    kong = {
      source = "granular-oss/kong"
    }
  }
}

provider "kong" {}

resource "kong_upstream" "minimal" {
  name = "example"
}

resource "kong_upstream" "complete" {
  name                 = "test2"
  slots                = 10000
  hash_on              = "none"
  hash_fallback        = "none"
  hash_on_header       = "header"
  host_header          = "host_header"
  tags                 = ["tag"]
  hash_fallback_header = "fallback"
  hash_on_cookie       = "cookie"
  hash_on_cookie_path  = "/cookie"
  healthchecks {
    active {
      type                     = "http"
      concurrency              = 10
      http_path                = "/"
      https_verify_certificate = true
      timeout                  = 60
      healthy {
        http_statuses = [200]
        interval      = 10
        successes     = 2
      }
      unhealthy {
        http_failures = 2
        interval      = 10
        timeouts      = 2
        tcp_failures  = 2
        http_statuses = [429, 500, 503]
      }
    }
    passive {
      type = "http"
      healthy {
        http_statuses = [200]
        successes     = 2
      }
      unhealthy {
        http_failures = 2
        timeouts      = 2
        tcp_failures  = 2
        http_statuses = [429, 500, 503]
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)

### Optional

- `client_certificate_id` (String)
- `hash_fallback` (String)
- `hash_fallback_header` (String)
- `hash_on` (String)
- `hash_on_cookie` (String)
- `hash_on_cookie_path` (String)
- `hash_on_header` (String)
- `healthchecks` (Attributes) (see [below for nested schema](#nestedatt--healthchecks))
- `host_header` (String)
- `slots` (Number)
- `tags` (List of String)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--healthchecks"></a>
### Nested Schema for `healthchecks`

Optional:

- `active` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--active))
- `passive` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--passive))

<a id="nestedatt--healthchecks--active"></a>
### Nested Schema for `healthchecks.active`

Optional:

- `concurrency` (Number)
- `healthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--active--healthy))
- `http_path` (String)
- `https_sni` (String)
- `https_verify_certificate` (Boolean)
- `timeout` (Number)
- `type` (String)
- `unhealthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--active--unhealthy))

<a id="nestedatt--healthchecks--active--healthy"></a>
### Nested Schema for `healthchecks.active.healthy`

Optional:

- `http_statuses` (List of Number)
- `interval` (Number)
- `successes` (Number)


<a id="nestedatt--healthchecks--active--unhealthy"></a>
### Nested Schema for `healthchecks.active.unhealthy`

Optional:

- `http_failures` (Number)
- `http_statuses` (List of Number)
- `interval` (Number)
- `tcp_failures` (Number)
- `timeouts` (Number)



<a id="nestedatt--healthchecks--passive"></a>
### Nested Schema for `healthchecks.passive`

Optional:

- `healthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--passive--healthy))
- `type` (String)
- `unhealthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--passive--unhealthy))

<a id="nestedatt--healthchecks--passive--healthy"></a>
### Nested Schema for `healthchecks.passive.healthy`

Optional:

- `http_statuses` (List of Number)
- `successes` (Number)


<a id="nestedatt--healthchecks--passive--unhealthy"></a>
### Nested Schema for `healthchecks.passive.unhealthy`

Optional:

- `http_failures` (Number)
- `http_statuses` (List of Number)
- `tcp_failures` (Number)
- `timeouts` (Number)

## Import

Import is supported using the following syntax:

```shell
# Upstreams can be import be name or by id
terraform import kong_upstream.example f20ebf48-b96f-4dfa-951d-b2de304aa071
terraform import kong_upstream.example example
```
